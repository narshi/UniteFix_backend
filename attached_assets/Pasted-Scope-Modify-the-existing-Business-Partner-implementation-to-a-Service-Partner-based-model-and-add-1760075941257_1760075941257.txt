Scope:

Modify the existing Business Partner implementation to a Service Partnerâ€“based model and add a Developer Details menu for listing and testing all mobile and admin API endpoints.

ğŸª„ 1. Rename and Refactor

Replace all references of â€œBusiness Partnerâ€ with â€œService Partnerâ€ throughout the codebase, including:

Sidebar labels

Routes & navigation

Component names (frontend)

API endpoints (backend)

Database table/entity name

Example:

business_partners â†’ service_partners

/api/business-partners â†’ /api/service-partners

BusinessPartner.vue â†’ ServicePartner.vue

ğŸ§‘â€ğŸ’¼ 2. Admin Panel â€“ Service Partner Management

UI Modifications:

Replace â€œBusiness Typeâ€ label with â€œPartner Typeâ€ (Individual / Business).

Add or update Verification Status column with statuses:

Pending Verification (yellow indicator)

Verified (green indicator)

Add status change control (toggle/dropdown) in Actions for admin to update verification status.

Ensure status changes reflect instantly without page reload.

Functionality:

Admin can:

Add new service partners manually.

Edit partner details.

Update verification status.

Deactivate / delete a partner.

Default status for new partners added by admin: Verified.

ğŸ§° 3. Backend API Modifications

Refactor Existing Endpoints:

GET    /api/service-partners
POST   /api/service-partners              â†’ Admin add partner
PATCH  /api/service-partners/:id          â†’ Edit partner / update status
DELETE /api/service-partners/:id


New / Updated Schema Fields:

{
  "id": "SP00001",
  "partner_name": "repair_expert",
  "partner_type": "Individual",
  "services": ["AC Repair", "Washing Machine"],
  "contact": "9876543210",
  "email": "expert@repair.com",
  "location": "581343",
  "verification_status": "Pending Verification",
  "created_at": "2025-10-10T12:00:00Z",
  "updated_at": "2025-10-10T12:00:00Z"
}

ğŸ“± 4. New Partner Signup API (Mobile)
POST /api/service-partners/signup


Request:

{
  "partner_name": "John Doe",
  "phone": "9876543210",
  "email": "john@example.com",
  "password": "secure@123",
  "partner_type": "Individual",
  "services": ["AC Repair"]
}


Response:

{
  "message": "Signup successful. Your account is pending admin verification.",
  "partner_id": "SP00015",
  "verification_status": "Pending Verification"
}


Behavior:

Creates a new partner with verification_status = "Pending Verification".

Login or assignment access is only available once verified by admin.

ğŸ§­ 5. Service Request Assignment Rule

Partners can only be assigned to service requests when:

verification_status == "Verified"


Update assignment logic in admin panel to filter out pending partners.

ğŸ§‘â€ğŸ’» 6. Developer Details â€“ API Console Page

New Sidebar Menu Item:
Developer Details

Purpose:

Single page listing all API endpoints (Admin + Mobile).

Each API should have:

Method + URL

Description

Request Body (JSON)

Sample Response (JSON)

Option to copy JSON for Postman testing.

API List Example:

Method	Endpoint	Description	Sample Request / Response
POST	/api/service-partners/signup	Mobile Partner Signup	âœ… JSON below
GET	/api/service-partners	Fetch all service partners	âœ… JSON below
PATCH	/api/service-partners/:id/status	Update verification status	âœ… JSON below
PATCH	/api/requests/:id/assign-partner	Assign verified partner to request	âœ… JSON below

Example JSON Block:

PATCH /api/service-partners/:id/status

{
  "verification_status": "Verified"
}


Response

{
  "message": "Status updated successfully",
  "partner_id": "SP00002",
  "verification_status": "Verified"
}

ğŸ§± 7. Database & Security

Add verification_status column (default: Pending Verification).

Ensure all APIs are protected with existing auth mechanism (Cognito / JWT).

Update migrations accordingly.

Ensure proper indexing on phone and verification_status.

âœ… Deliverables Checklist

 Rename Business Partner module to Service Partner module.

 Admin UI updated with verification control.

 New field added in DB and API.

 Partner signup API for mobile implemented.

 Assignment logic restricted to verified partners.

 Developer Details page created in sidebar.

 All APIs documented with request/response JSON on Developer Details page.

 Postman testing verified.